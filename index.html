<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Pablo Centurione, el filosofo del pueblo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <!-- page content -->
    <h2>Pablito Frases</h2>
    <div class="image" >
        <img id="source" src="./pablo.jpg" alt=""/>
    </div>
    <div class="text"> 
        <input type="text" id="label" maxlength="50" />
    </div>
    <button onclick="createImage();">
        Crear!
    </button>

    <div class="result">
        <canvas id="result" ></canvas>
    </div>

    <script>
        function createImage() {
            var text = document.getElementById('label').value;
            makeQRImage(text);
        }
        function makeQRImage(text) {
            var canvas = document.getElementById('result');
            var context = canvas.getContext('2d');
            var img = document.getElementById('source');
            canvas.width = img.clientWidth;
            canvas.height = img.clientHeight;
            
            context.globalAlpha = 1.0;
            context.drawImage(img, 0, 0, img.clientWidth, img.clientHeight);

            context.globalAlpha = 1;
            context.font = 'bold 100% Helvetica';
            context.textAlign = 'center';
            context.fillStyle = 'white';
            context.fillText(`"${text}"`, img.clientWidth*.5, img.clientHeight*.50);
        }
    </script>
    <style>
      body, html {
        margin:0;
        padding:0;
        width: 100%;
        height: 100%;
      }
        .image, .text {
            width: 80vw;
            margin: 20px 50px;
        }
        .image img, .text input {
            width: 100%;
        }
      .result {
        margin-top: 50px;
      }
        input {
            margin: 20px 0;
            padding: 10px 20px;   
        }
        button {
            
        }
    </style>
  </body>
</html>
